# Автокач для онлайн-игры «Последний бастион»

Это набор скриптов для автоматической прокачки персонажа в онлайн-игре [Последний бастион](http://lbast.ru). Доступны скрипты для многих востребованных ботов для зарабатывания денег, опыта и боевых ресурсов.

## Дисклеймер

Из [законов игры](http://lbast.ru/index.php?&mod=rules)

> 10. Автокач, т.е. автоматическая прокачка персонажа с помощью программных средств (браузер с автообновлением также является программным средством).
> Санкции:
> Первый раз - штраф 10000 дин на уровень; повторно - блокирование аккаунта.

Таким образом, использование этих скриптов официально запрещено правилами игры и может повлечь за собой штраф и блокирование персонажа. Я не несу ответственности за последствия, используйте на свой страх и риск.

## Установка

1. Установите менеджер пользовательских скриптов в зависимости от браузера, который вы используете:
  * Chrome и все Chromium-браузеры: [Tampermonkey](https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo)
  * Firefox: [Greasemonkey)(https://addons.mozilla.org/firefox/addon/greasemonkey/) или [Tampermonkey](https://addons.mozilla.org/firefox/addon/tampermonkey/)
  * Microsoft Edge: [Tampermonkey](https://microsoftedge.microsoft.com/addons/detail/tampermonkey/iikmkjmpaadaobahmlepeloendndfphd)
  * Opera: [Tampermonkey](https://addons.opera.com/extensions/details/tampermonkey-beta/)
  * Safari: [Tampermonkey](https://www.tampermonkey.net/?browser=safari) или [Userscripts](https://apps.apple.com/app/userscripts/id1463298887)
2. Для некоторых браузеров, в частности, для Chrome/Chromium, включите режим разработчика в настройках расширений.
3. Установите общие для всех автокачей скрипт боя и скрипт с вспомогательными функциями.
4. Установите скрипты для ботов, которые вам нужны.
5. Перейдите на страницу, на которой работает выбранный вами автокач, авторизуйтесь в игре и выполните настройки автокача. Интерфейс настроек интуитивно понятен и сопровождается инструкциями, большинство параметров имеют значение по умолчанию. Единственные параметры, без которых автокач не будет работать корректно - это минимальное количество HP, при котором персонаж должен идти в бой, а также ID в Telegram, который используется для оповещениях о письмах и нападениях.
6. Сохраните настройки и вернитесь на главную. Если вы всё сделали верно, в заголовке окна должно отображаться название автокача, а персонаж автоматически должен начать бить бота.

### Скрипты

Чтобы установить скрипт, нажмите на нужную ссылку и подтвердите установку в появившемся окне.

* [Скрипт боя (для всех автокачей)]()
* [Скрипт с вспомогательными функциями (для всех автокачей)]
* Боты и квесты:
  * [Призрак барона, Призрак воина]()
  * [Волк вожак стаи, Матерый волк]()
  * [Призрак Блейка, Пират]()
  * [Горгулья]()
  * [Молег]()
  * [Дух гнома]()
  * [Прокачка подкласса «Паладин»]()
* [Автофорт]()
* [Авторыбалка]()

### Ссылки, по котором будет работать автокач

* Призрак барона, Призрак воина: http://baron-auto.lbast.ru
* Волк вожак стаи, Матерый волк: http://volki-auto.lbast.ru
* Призрак Блейка, Пират: http://bleyk-auto.lbast.ru
* Горгулья: http://gorgulya-auto.lbast.ru
* Молег: http://moleg-auto.lbast.ru
* Дух гнома: http://gnom-auto.lbast.ru
* Прокачка подкласса «Паладин»: http://paladin-auto.lbast.ru

## Немного о поведении скриптов

Ниже приведён основной алгоритм, по которому работают скрипты для ботов и квестов:

1. Если здоровье персонажа в норме (больше значения, заданного в настройках), персонаж идёт бить бота или выполнять квест. Он способен добраться до нужной локации из любой точки, при этом по возможности использует функцию амулета «Последний портал», чтобы быстрее переместиться в нужную точку, если он уже был там раньше;
2. Если персонаж получает запрет или здоровье опускается ниже нормы, персонаж с помощью амулета перемещается в Эвилгард - город Тёмных, после чего начинает обновляться спустя некоторый промежуток времени, проверяя, можно ли снова идти бить бота. При этом это не создаёт проблем для бойцов других мировоззрений, так как напасть на персонажа не могут в столице любого мировоззрения;
3. Если здоровье персонажа становится сильно отрицательным, например, из-за крови после смерти (значение настраивается в настройках автокача), персонаж перемещается в Кулак Хаоса, где происходит ускоренное восстановление здоровья. При этом последний дом должен принадлежать вам, либо это должна быть гостиница, в которой вы прописаны - иначе ускоренного лечения не будет;
4. Если автокач был активирован в момент, когда персонаж стоит на работе (на форте), скрипт дождётся, когда персонаж завершит работу, заберёт награду, и только после этого пойдёт бить нужного бота;
5. Если персонажу пришло новое письмо (или несколько писем), опционально проигрывается звук, отправляется оповещение, а все письма становятся прочитанными. После захода в игру необходимо просмотреть почту вручную.

### В бою

В бою с ботами на первом ходу персонаж применяет умение из школы преторианцев, затем наносит рандомные удары, пока бой не завершиться. Если на персонажа нападают и он оказывается в PVP бою, опционально проигрывается звуковой сигнал и присылается оповещение о нападении. Затем персонаж пытается отравить противника, если находит нужное состояние и если у персонажа есть эликсиры отравления, после чего выполняет рандомные удары раз в 90 секунд. Если вы зайдёте в бой с другого устройства, автокач остановится на 5 минут, после чего обновится, и, если вы продолжите играть с другого устройства, снова остановится на пять минут. Таким образом, вы можете вмешаться в бой и завершить его, если не имеете возможность остановить автокач.

### Автофорт и авторыбалка

Скрипты для автоматической работы и автоматической рыбалки работают не так, как остальные скрипты. Они действуют на основной странице игры, специальных адресов для них не предусмотрено. Автофорт автоматически вводит код, когда вы нажимаете "Нести караул", забирает награду и переустраивается на работу по истечение времени. Авторыбалка также работает автоматически после нажатия на "Рыбачить" - до тех пор, пока вся рыба на день не будет поймана.

## Предложения и замечания

Принимаются любые предложения и замечания, связанные с работой автокача. Можно писать [мне в Telegram](https://t.me/Futyn019), в игре на ник `Agent_`, а также открыть issue или pull request в данном репозитории.
